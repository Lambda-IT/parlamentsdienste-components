import{P as v,R as l,b as s,k as g,M as x}from"./preview-0a95dba5.js";import"https://unpkg.com/@popperjs/core@2";import"https://unpkg.com/tippy.js@6";import"./iframe-248709a0.js";import"../sb-preview/runtime.js";function r(e,t,i,o=20,a=0){let d=[];if(a>=o)return d;const f=n=>{const u=n.assignedNodes().filter(b=>b.nodeType===1);return u.length>0?r(u[0].parentElement,t,i,o,a+1):[]},m=Array.from(e.children||[]);for(const n of m)t(n)||(i(n)&&d.push(n),n.shadowRoot!=null?d.push(...r(n.shadowRoot,t,i,o,a+1)):n.tagName==="SLOT"?d.push(...f(n)):d.push(...r(n,t,i,o,a+1)));return d}function h(e){return e.hasAttribute("hidden")||e.hasAttribute("aria-hidden")&&e.getAttribute("aria-hidden")!=="false"||e.style.display==="none"||e.style.opacity==="0"||e.style.visibility==="hidden"||e.style.visibility==="collapse"}function E(e){return e.hasAttribute("disabled")||e.hasAttribute("aria-disabled")&&e.getAttribute("aria-disabled")!=="false"}function k(e){return e.getAttribute("tabindex")==="-1"||h(e)||E(e)?!1:e.hasAttribute("tabindex")||(e instanceof HTMLAnchorElement||e instanceof HTMLAreaElement)&&e.hasAttribute("href")||e instanceof HTMLButtonElement||e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement||e instanceof HTMLIFrameElement}const c=new Map;function w(e,t,i){const o=c.get(i);o!=null&&window.clearTimeout(o),c.set(i,window.setTimeout(()=>{e(),c.delete(i)},t))}const p=document.createElement("template");p.innerHTML=`
	<div id="start"></div>
	<div id="backup"></div>
	<slot></slot>
	<div id="end"></div>
`;class y extends HTMLElement{constructor(){super(),this.debounceId=Math.random().toString(),this._focused=!1;const t=this.attachShadow({mode:"open"});t.appendChild(p.content.cloneNode(!0)),this.$backup=t.querySelector("#backup"),this.$start=t.querySelector("#start"),this.$end=t.querySelector("#end"),this.focusLastElement=this.focusLastElement.bind(this),this.focusFirstElement=this.focusFirstElement.bind(this),this.onFocusIn=this.onFocusIn.bind(this),this.onFocusOut=this.onFocusOut.bind(this)}static get observedAttributes(){return["inactive"]}get inactive(){return this.hasAttribute("inactive")}set inactive(t){t?this.setAttribute("inactive",""):this.removeAttribute("inactive")}get focused(){return this._focused}connectedCallback(){this.$start.addEventListener("focus",this.focusLastElement),this.$end.addEventListener("focus",this.focusFirstElement),this.addEventListener("focusin",this.onFocusIn),this.addEventListener("focusout",this.onFocusOut),this.render()}disconnectedCallback(){this.$start.removeEventListener("focus",this.focusLastElement),this.$end.removeEventListener("focus",this.focusFirstElement),this.removeEventListener("focusin",this.onFocusIn),this.removeEventListener("focusout",this.onFocusOut)}attributeChangedCallback(){this.render()}focusFirstElement(){this.trapFocus()}focusLastElement(){this.trapFocus(!0)}getFocusableElements(){return r(this,h,k)}trapFocus(t){if(this.inactive)return;let i=this.getFocusableElements();i.length>0?(t?i[i.length-1].focus():i[0].focus(),this.$backup.setAttribute("tabindex","-1")):(this.$backup.setAttribute("tabindex","0"),this.$backup.focus())}onFocusIn(){this.updateFocused(!0)}onFocusOut(){this.updateFocused(!1)}updateFocused(t){w(()=>{this.focused!==t&&(this._focused=t,this.render())},0,this.debounceId)}render(){this.$start.setAttribute("tabindex",!this.focused||this.inactive?"-1":"0"),this.$end.setAttribute("tabindex",!this.focused||this.inactive?"-1":"0"),this.focused?this.setAttribute("focused",""):this.removeAttribute("focused")}}window.customElements.define("focus-trap",y);const F=":host{display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;top:0;bottom:0;right:0;left:0;z-index:1000}*,::before,::after{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none}.pd-modal-wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;background-color:#fff;-webkit-box-shadow:0px 0px 8px rgba(11, 11, 11, 0.45);box-shadow:0px 0px 8px rgba(11, 11, 11, 0.45);z-index:10;padding:1.25rem;position:relative;border-radius:0.25rem;width:var(--pd-modal-width, unset);height:var(--pd-modal-height, unset);min-width:var(--pd-modal-min-width, unset);max-width:var(--pd-modal-max-width, unset);min-height:var(--pd-modal-min-height, unset);max-height:var(--pd-modal-max-height, unset)}.pd-modal-header{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:1.875rem}.pd-modal-header .pd-modal-title{font-weight:700;overflow:hidden;text-overflow:ellipsis}.pd-modal-header .pd-modal-close{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;padding:0;margin:0;border:none;fill:#0b7285;margin-top:-0.475rem;margin-right:-0.475rem;margin-left:0.5rem}.pd-modal-header .pd-modal-close:focus-visible{background-color:#ffec99;color:#033840;fill:#033840}.pd-modal-header .pd-modal-close:hover{fill:#15aabf}.pd-modal-header .pd-modal-close:active{fill:#66d9e8}.pd-modal-content{-ms-flex:1 1 auto;flex:1 1 auto}.pd-modal-footer{text-align:right}",A=class{constructor(e){v(this,e),this.pdClosed=l(this,"pd-closed",7),this.pdBackdropClicked=l(this,"pd-backdrop",7),this.pdEscapeClicked=l(this,"pd-escape",7),this.config=void 0}backdropClick(){this.pdBackdropClicked.emit(),this.closeModal()}handleKeyDown(e){switch(e.key){case"Escape":{this.pdEscapeClicked.emit(),this.closeModal();break}}}closeModal(){this.pdClosed.emit()}render(){var e,t,i,o,a;return s(g,{style:{zIndex:(t=(e=this.config)===null||e===void 0?void 0:e.zIndex)!==null&&t!==void 0?t:null}},s("focus-trap",null,s("pd-backdrop",{visible:(o=(i=this.config)===null||i===void 0?void 0:i.backdropVisible)!==null&&o!==void 0?o:!1}),s("div",{tabindex:"0",role:"dialog",class:"pd-modal-wrapper"},s("div",{class:"pd-modal-header"},s("span",{class:"pd-modal-title","data-test":"pd-modal-title"},(a=this.config)===null||a===void 0?void 0:a.title),s("button",{class:"pd-modal-close",onClick:()=>this.closeModal(),"data-test":"pd-modal-close"},s("pd-icon",{name:"close",size:2}))),s("div",{class:"pd-modal-content"},s("slot",null)),s("div",{class:"pd-modal-footer"},s("slot",{name:"footer"})))))}get element(){return x(this)}};A.style=F;export{A as pd_modal};
//# sourceMappingURL=p-1f620201.entry-564e0ff9.js.map
