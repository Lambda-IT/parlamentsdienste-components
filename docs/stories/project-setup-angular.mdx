import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Docs/Angular/Angular Project Setup" />

# Project Setup Angular

Node Version: 22<br />
Angular Version: 19

<br />

1. Build the parlamentsdienste components library

    ```bash
    git clone https://github.com/Lambda-IT/parlamentsdienste-components.git
    cd parlamentsdienste-components
    # if you dont have it already: npm i -g pnpm
    pnpm install
    pnpm run build:all
    pnpm run pack:all
    ```

    The pack:all command will generate .tgz files:

    - for the core library: `packages/core/parlamentsdienstecore-components-core-<version>.tgz`
    - for the angular wrapper library: `packages/angular/dist/parlamentsdienstecore-components-angular-<version>.tgz`
    - for the react wrapper library: `packages/react/dist/parlamentsdienstecore-components-react-<version>.tgz`
    - for the vue wrapper library: `packages/vue/dist/parlamentsdienstecore-components-vue-<version>.tgz`

2. Start a new angular project using the Angular CLI:

    ```bash
    ng new my-angular-app
    ```

3. Copy the core and the angular wrapper .tgz files to your new angular project folder and install them.
   Install the core library first.

    ```bash
    cd my-angular-app
    npm install "parlamentsdienstecore-components-core-<version>.tgz" -f
    npm install "parlamentsdienstecore-components-angular-<version>.tgz" -f
    ```

4. To add fonts and icons add this objectsto the `angular.json` assets array:

    ```json
        "assets": [
              {
                "glob": "**/*",
                "input": "node_modules/@parlamentsdienste/pdcomponents-core/dist/parlamentsdienstecore/assets",
                "output": "assets"
              },
        ]
    ```

5. To add the base styles and fonts add these two lines to the `styles` array in `angular.json`:

    ```json
        "styles": [
            "node_modules/@parlamentsdienste/pdcomponents-core/dist/parlamentsdienstecore/typography.css",
            "node_modules/@parlamentsdienste/pdcomponents-core/dist/parlamentsdienstecore/parlamentsdienstecore.css"
        ],
    ```

6. Call setAssetPath in your app-initializer and set it to the baseUrl of your project

    ```typescript
    import { setAssetPath } from '@parlamentsdienste/pdcomponents-core/components';

    bootstrapApplication(AppComponent, {
        providers: [
            provideAppInitializer(() => {
                setAssetPath('http://localhost:4200');
            }),
            provideZoneChangeDetection({ eventCoalescing: true }),
            provideRouter(appRoutes),
        ],
    }).catch(err => console.error(err));
    ```
