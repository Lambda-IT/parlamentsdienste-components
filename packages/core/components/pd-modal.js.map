{"file":"pd-modal.js","mappings":"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","names":["__stencil_proxyCustomElement","HTMLElement"],"sources":["../../node_modules/.pnpm/@a11y+focus-trap@1.0.5/node_modules/@a11y/focus-trap/shadow.js","../../node_modules/.pnpm/@a11y+focus-trap@1.0.5/node_modules/@a11y/focus-trap/focusable.js","../../node_modules/.pnpm/@a11y+focus-trap@1.0.5/node_modules/@a11y/focus-trap/debounce.js","../../node_modules/.pnpm/@a11y+focus-trap@1.0.5/node_modules/@a11y/focus-trap/focus-trap.js","src/components/pd-modal/pd-modal.scss?tag=pd-modal&encapsulation=shadow","src/components/pd-modal/pd-modal.tsx"],"sourcesContent":["/**\n * Traverses the slots of the open shadowroots and returns all children matching the query.\n * @param {ShadowRoot | HTMLElement} root\n * @param skipNode\n * @param isMatch\n * @param {number} maxDepth\n * @param {number} depth\n * @returns {HTMLElement[]}\n */\nexport function queryShadowRoot(root, skipNode, isMatch, maxDepth = 20, depth = 0) {\n    let matches = [];\n    // If the depth is above the max depth, abort the searching here.\n    if (depth >= maxDepth) {\n        return matches;\n    }\n    // Traverses a slot element\n    const traverseSlot = ($slot) => {\n        // Only check nodes that are of the type Node.ELEMENT_NODE\n        // Read more here https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\n        const assignedNodes = $slot.assignedNodes().filter(node => node.nodeType === 1);\n        if (assignedNodes.length > 0) {\n            return queryShadowRoot(assignedNodes[0].parentElement, skipNode, isMatch, maxDepth, depth + 1);\n        }\n        return [];\n    };\n    // Go through each child and continue the traversing if necessary\n    // Even though the typing says that children can't be undefined, Edge 15 sometimes gives an undefined value.\n    // Therefore we fallback to an empty array if it is undefined.\n    const children = Array.from(root.children || []);\n    for (const $child of children) {\n        // Check if the node and its descendants should be skipped\n        if (skipNode($child)) {\n            continue;\n        }\n        // If the child matches we always add it\n        if (isMatch($child)) {\n            matches.push($child);\n        }\n        if ($child.shadowRoot != null) {\n            matches.push(...queryShadowRoot($child.shadowRoot, skipNode, isMatch, maxDepth, depth + 1));\n        }\n        else if ($child.tagName === \"SLOT\") {\n            matches.push(...traverseSlot($child));\n        }\n        else {\n            matches.push(...queryShadowRoot($child, skipNode, isMatch, maxDepth, depth + 1));\n        }\n    }\n    return matches;\n}\n//# sourceMappingURL=shadow.js.map","/**\n * Returns whether the element is hidden.\n * @param $elem\n */\nexport function isHidden($elem) {\n    return $elem.hasAttribute(\"hidden\")\n        || ($elem.hasAttribute(\"aria-hidden\") && $elem.getAttribute(\"aria-hidden\") !== \"false\")\n        // A quick and dirty way to check whether the element is hidden.\n        // For a more fine-grained check we could use \"window.getComputedStyle\" but we don't because of bad performance.\n        // If the element has visibility set to \"hidden\" or \"collapse\", display set to \"none\" or opacity set to \"0\" through CSS\n        // we won't be able to catch it here. We accept it due to the huge performance benefits.\n        || $elem.style.display === `none`\n        || $elem.style.opacity === `0`\n        || $elem.style.visibility === `hidden`\n        || $elem.style.visibility === `collapse`;\n    // If offsetParent is null we can assume that the element is hidden\n    // https://stackoverflow.com/questions/306305/what-would-make-offsetparent-null\n    //|| $elem.offsetParent == null;\n}\n/**\n * Returns whether the element is disabled.\n * @param $elem\n */\nexport function isDisabled($elem) {\n    return $elem.hasAttribute(\"disabled\")\n        || ($elem.hasAttribute(\"aria-disabled\") && $elem.getAttribute(\"aria-disabled\") !== \"false\");\n}\n/**\n * Determines whether an element is focusable.\n * Read more here: https://stackoverflow.com/questions/1599660/which-html-elements-can-receive-focus/1600194#1600194\n * Or here: https://stackoverflow.com/questions/18261595/how-to-check-if-a-dom-element-is-focusable\n * @param $elem\n */\nexport function isFocusable($elem) {\n    // Discard elements that are removed from the tab order.\n    if ($elem.getAttribute(\"tabindex\") === \"-1\" || isHidden($elem) || isDisabled($elem)) {\n        return false;\n    }\n    return (\n    // At this point we know that the element can have focus (eg. won't be -1) if the tabindex attribute exists\n    $elem.hasAttribute(\"tabindex\")\n        // Anchor tags or area tags with a href set\n        || ($elem instanceof HTMLAnchorElement || $elem instanceof HTMLAreaElement) && $elem.hasAttribute(\"href\")\n        // Form elements which are not disabled\n        || ($elem instanceof HTMLButtonElement\n            || $elem instanceof HTMLInputElement\n            || $elem instanceof HTMLTextAreaElement\n            || $elem instanceof HTMLSelectElement)\n        // IFrames\n        || $elem instanceof HTMLIFrameElement);\n}\n//# sourceMappingURL=focusable.js.map","const timeouts = new Map();\n/**\n * Debounces a callback.\n * @param cb\n * @param ms\n * @param id\n */\nexport function debounce(cb, ms, id) {\n    // Clear current timeout for id\n    const timeout = timeouts.get(id);\n    if (timeout != null) {\n        window.clearTimeout(timeout);\n    }\n    // Set new timeout\n    timeouts.set(id, window.setTimeout(() => {\n        cb();\n        timeouts.delete(id);\n    }, ms));\n}\n//# sourceMappingURL=debounce.js.map","import { debounce } from \"./debounce\";\nimport { isFocusable, isHidden } from \"./focusable\";\nimport { queryShadowRoot } from \"./shadow\";\n/**\n * Template for the focus trap.\n */\nconst template = document.createElement(\"template\");\ntemplate.innerHTML = `\n\t<div id=\"start\"></div>\n\t<div id=\"backup\"></div>\n\t<slot></slot>\n\t<div id=\"end\"></div>\n`;\n/**\n * Focus trap web component.\n * @customElement focus-trap\n * @slot - Default content.\n */\nexport class FocusTrap extends HTMLElement {\n    /**\n     * Attaches the shadow root.\n     */\n    constructor() {\n        super();\n        // The debounce id is used to distinguish this focus trap from others when debouncing\n        this.debounceId = Math.random().toString();\n        this._focused = false;\n        const shadow = this.attachShadow({ mode: \"open\" });\n        shadow.appendChild(template.content.cloneNode(true));\n        this.$backup = shadow.querySelector(\"#backup\");\n        this.$start = shadow.querySelector(\"#start\");\n        this.$end = shadow.querySelector(\"#end\");\n        this.focusLastElement = this.focusLastElement.bind(this);\n        this.focusFirstElement = this.focusFirstElement.bind(this);\n        this.onFocusIn = this.onFocusIn.bind(this);\n        this.onFocusOut = this.onFocusOut.bind(this);\n    }\n    // Whenever one of these attributes changes we need to render the template again.\n    static get observedAttributes() {\n        return [\n            \"inactive\"\n        ];\n    }\n    /**\n     * Determines whether the focus trap is active or not.\n     * @attr\n     */\n    get inactive() {\n        return this.hasAttribute(\"inactive\");\n    }\n    set inactive(value) {\n        value ? this.setAttribute(\"inactive\", \"\") : this.removeAttribute(\"inactive\");\n    }\n    /**\n     * Returns whether the element currently has focus.\n     */\n    get focused() {\n        return this._focused;\n    }\n    /**\n     * Hooks up the element.\n     */\n    connectedCallback() {\n        this.$start.addEventListener(\"focus\", this.focusLastElement);\n        this.$end.addEventListener(\"focus\", this.focusFirstElement);\n        // Focus out is called every time the user tabs around inside the element\n        this.addEventListener(\"focusin\", this.onFocusIn);\n        this.addEventListener(\"focusout\", this.onFocusOut);\n        this.render();\n    }\n    /**\n     * Tears down the element.\n     */\n    disconnectedCallback() {\n        this.$start.removeEventListener(\"focus\", this.focusLastElement);\n        this.$end.removeEventListener(\"focus\", this.focusFirstElement);\n        this.removeEventListener(\"focusin\", this.onFocusIn);\n        this.removeEventListener(\"focusout\", this.onFocusOut);\n    }\n    /**\n     * When the attributes changes we need to re-render the template.\n     */\n    attributeChangedCallback() {\n        this.render();\n    }\n    /**\n     * Focuses the first focusable element in the focus trap.\n     */\n    focusFirstElement() {\n        this.trapFocus();\n    }\n    /**\n     * Focuses the last focusable element in the focus trap.\n     */\n    focusLastElement() {\n        this.trapFocus(true);\n    }\n    /**\n     * Returns a list of the focusable children found within the element.\n     */\n    getFocusableElements() {\n        return queryShadowRoot(this, isHidden, isFocusable);\n    }\n    /**\n     * Focuses on either the last or first focusable element.\n     * @param {boolean} trapToEnd\n     */\n    trapFocus(trapToEnd) {\n        if (this.inactive)\n            return;\n        let focusableChildren = this.getFocusableElements();\n        if (focusableChildren.length > 0) {\n            if (trapToEnd) {\n                focusableChildren[focusableChildren.length - 1].focus();\n            }\n            else {\n                focusableChildren[0].focus();\n            }\n            this.$backup.setAttribute(\"tabindex\", \"-1\");\n        }\n        else {\n            // If there are no focusable children we need to focus on the backup\n            // to trap the focus. This is a useful behavior if the focus trap is\n            // for example used in a dialog and we don't want the user to tab\n            // outside the dialog even though there are no focusable children\n            // in the dialog.\n            this.$backup.setAttribute(\"tabindex\", \"0\");\n            this.$backup.focus();\n        }\n    }\n    /**\n     * When the element gains focus this function is called.\n     */\n    onFocusIn() {\n        this.updateFocused(true);\n    }\n    /**\n     * When the element looses its focus this function is called.\n     */\n    onFocusOut() {\n        this.updateFocused(false);\n    }\n    /**\n     * Updates the focused property and updates the view.\n     * The update is debounced because the focusin and focusout out\n     * might fire multiple times in a row. We only want to render\n     * the element once, therefore waiting until the focus is \"stable\".\n     * @param value\n     */\n    updateFocused(value) {\n        debounce(() => {\n            if (this.focused !== value) {\n                this._focused = value;\n                this.render();\n            }\n        }, 0, this.debounceId);\n    }\n    /**\n     * Updates the template.\n     */\n    render() {\n        this.$start.setAttribute(\"tabindex\", !this.focused || this.inactive ? `-1` : `0`);\n        this.$end.setAttribute(\"tabindex\", !this.focused || this.inactive ? `-1` : `0`);\n        this.focused ? this.setAttribute(\"focused\", \"\") : this.removeAttribute(\"focused\");\n    }\n}\nwindow.customElements.define(\"focus-trap\", FocusTrap);\n//# sourceMappingURL=focus-trap.js.map",":host {\n    display: flex;\n    position: fixed;\n    align-items: center;\n    justify-content: center;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    z-index: 1000;\n}\n\n*,\n::before,\n::after {\n    box-sizing: border-box;\n    appearance: none;\n    outline: none;\n}\n\n/**\n * @prop --pd-modal-min-width: min-width of modal\n * @prop --pd-modal-max-width: max-width of modal\n * @prop --pd-modal-min-height: min-height of modal\n * @prop --pd-modal-max-height: max-height of modal\n * @prop --pd-modal-width: width of modal\n * @prop --pd-modal-height: height of modal\n */\n.pd-modal-wrapper {\n    display: flex;\n    flex-direction: column;\n    background-color: #fff;\n    box-shadow: 0px 0px 8px rgba($color: $pd-black, $alpha: 0.45);\n    z-index: 10;\n    padding: 1.25rem;\n    position: relative;\n    border-radius: 0.25rem;\n    width: var(--pd-modal-width, unset);\n    height: var(--pd-modal-height, unset);\n    min-width: var(--pd-modal-min-width, unset);\n    max-width: var(--pd-modal-max-width, unset);\n    min-height: var(--pd-modal-min-height, unset);\n    max-height: var(--pd-modal-max-height, unset);\n}\n\n.pd-modal-header {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 1.875rem;\n\n    .pd-modal-title {\n        font-weight: 700;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n\n    .pd-modal-close {\n        @include invisibleButton;\n        fill: setcolor(primary, enabled);\n        margin-top: -0.475rem;\n        margin-right: -0.475rem;\n        margin-left: 0.5rem;\n\n        &:hover {\n            fill: setcolor(primary, hover);\n        }\n\n        &:active {\n            fill: setcolor(primary, pressed);\n        }\n    }\n}\n\n.pd-modal-content {\n    flex: 1 1 auto;\n}\n\n.pd-modal-footer {\n    text-align: right;\n}\n","import '@a11y/focus-trap';\nimport { Component, ComponentInterface, Element, Event, EventEmitter, h, Host, Listen, Prop } from '@stencil/core';\nimport { PdModalConfig } from '../../types';\n\n/**\n * @slot - Modal content\n * @slot footer - Modal footer content\n */\n@Component({\n    tag: 'pd-modal',\n    styleUrl: 'pd-modal.scss',\n    shadow: true,\n})\nexport class Modal implements ComponentInterface {\n    @Element() element!: HTMLElement;\n\n    /**\n     * Configuration properties\n     */\n    @Prop() config: PdModalConfig;\n\n    /**\n     * Event that will be executed when the is closed\n     */\n    @Event({ eventName: 'pd-closed' }) pdClosed!: EventEmitter<void>;\n\n    /**\n     * Event that will be executed when the modal backdrop is clicked\n     */\n    @Event({ eventName: 'pd-backdrop' }) pdBackdropClicked!: EventEmitter<void>;\n\n    /**\n     * Event that will be executed when the escape button was clicked\n     */\n    @Event({ eventName: 'pd-escape' }) pdEscapeClicked!: EventEmitter<void>;\n\n    @Listen('pd-tap', { passive: false, capture: true })\n    backdropClick() {\n        this.pdBackdropClicked.emit();\n        this.closeModal();\n    }\n\n    @Listen('keydown')\n    handleKeyDown(ev: KeyboardEvent) {\n        switch (ev.key) {\n            case 'Escape': {\n                this.pdEscapeClicked.emit();\n                this.closeModal();\n                break;\n            }\n        }\n    }\n\n    private closeModal() {\n        this.pdClosed.emit();\n    }\n\n    public render() {\n        return (\n            <Host\n                style={{\n                    zIndex: this.config?.zIndex ?? null,\n                }}\n            >\n                <focus-trap>\n                    <pd-backdrop visible={this.config?.backdropVisible ?? false}></pd-backdrop>\n                    <div tabindex=\"0\" role=\"dialog\" class=\"pd-modal-wrapper\">\n                        <div class=\"pd-modal-header\">\n                            <span class=\"pd-modal-title\" data-test=\"pd-modal-title\">\n                                {this.config?.title}\n                            </span>\n                            <button class=\"pd-modal-close\" onClick={() => this.closeModal()} data-test=\"pd-modal-close\">\n                                <pd-icon name=\"close\" size={2}></pd-icon>\n                            </button>\n                        </div>\n                        <div class=\"pd-modal-content\">\n                            <slot></slot>\n                        </div>\n                        <div class=\"pd-modal-footer\">\n                            <slot name=\"footer\"></slot>\n                        </div>\n                    </div>\n                </focus-trap>\n            </Host>\n        );\n    }\n}\n"],"version":3}