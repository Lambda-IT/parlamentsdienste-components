<!DOCTYPE html>
<html dir="ltr" lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
        <title>Stencil Component Starter</title>

        <script type="module" src="/build/parlamentsdienstecore.esm.js"></script>
        <script nomodule src="/build/parlamentsdienstecore.js"></script>
        <link href="./styles/typography.css" rel="stylesheet" />
        <link href="./build/parlamentsdienstecore.css" rel="stylesheet" />
        <style>
            body {
                background-color: #003840;
            }

            .example-components > * {
                margin: 10px;
                margin-top: 0;
            }

            .example-components:first-child {
                margin-top: 10px;
            }

            details {
                border-radius: 6px;
                background: #ccc;
                padding: 10px;
                box-shadow: 0 0.1rem 1rem -0.5rem rgba(0, 0, 0, 0.4);
            }

            details details {
                background: #f5f5f5;
                padding: 10px;
                box-shadow: 0 0.1rem 1rem -0.5rem rgba(0, 0, 0, 0.4);
            }

            details > * {
                margin: 20px 10px;
            }

            summary {
                margin: 0;
                padding: 3 px 6 px;
                font-size: 18px;
            }

            .checked .a {
                fill: green !important;
            }

            pd-list-item-expandable {
                --pd-list-item-background: #fff;
                margin-bottom: 6px;
            }
        </style>
    </head>
    <body>
        <div class="example-components">
            <details open>
                <summary>Forms</summary>
                <details open>
                    <summary>Inputs</summary>
                    <div class="dropdown-grid">
                        <span></span>
                        <span>Enabled</span>
                        <span>Disabled</span>
                        <span>Readonly</span>
                        <span>Error</span>
                        <span>View-Only</span>

                        <span>Dropdowns</span>
                        <pd-dropdown class="pd-dropdown-items" label="Label" empty-item></pd-dropdown>
                        <pd-dropdown class="pd-dropdown-items" label="Label" empty-item disabled></pd-dropdown>
                        <pd-dropdown class="pd-dropdown-items" label="Label" empty-item readonly></pd-dropdown>
                        <pd-dropdown
                            class="pd-dropdown-items"
                            label="Label"
                            helper-text="dropdown helper text"
                            empty-item
                            error
                        ></pd-dropdown>
                        <pd-dropdown view-only class="pd-dropdown-items" label="Label" empty-item></pd-dropdown>

                        <span>Combobox</span>
                        <pd-combobox placeholder="search..." class="pd-combobox-items" label="Label"></pd-combobox>
                        <pd-combobox
                            placeholder="search..."
                            class="pd-combobox-items"
                            label="Label"
                            disabled
                        ></pd-combobox>
                        <pd-combobox
                            placeholder="search..."
                            class="pd-combobox-items"
                            label="Label"
                            readonly
                        ></pd-combobox>
                        <pd-combobox
                            placeholder="search..."
                            class="pd-combobox-items"
                            label="Label"
                            error
                        ></pd-combobox>
                        <pd-combobox
                            id="supibox"
                            view-only
                            placeholder="search..."
                            class="pd-combobox-items"
                            label="Label"
                        ></pd-combobox>

                        <span>Combobox (selectable)</span>
                        <pd-combobox class="pd-combobox-items" selectable label="Label"></pd-combobox>
                        <pd-combobox class="pd-combobox-items" selectable label="Label" disabled></pd-combobox>
                        <pd-combobox
                            class="pd-combobox-items"
                            selectable
                            label="Label"
                            readonly
                            selectable
                        ></pd-combobox>
                        <pd-combobox class="pd-combobox-items" selectable label="Label" error selectable></pd-combobox>
                        <pd-combobox view-only class="pd-combobox-items" selectable label="Label"></pd-combobox>

                        <span>Search</span>
                        <pd-search label="Label" placeholder="search..." id="pd-search-0"></pd-search>
                        <pd-search label="Label" disabled placeholder="search..." id="pd-search-0"></pd-search>
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    <style>
                        .dropdown-grid {
                            display: grid;
                            grid-template-columns: repeat(6, 1fr);
                            grid-gap: 10px;
                        }
                    </style>
                </details>
            </details>
        </div>
        <script>
            const pdInput = document.getElementById('pd-input-0');
            const pdBreadcrumbs = document.getElementById('pd-breadcrumbs-0');
            const pdProgress = document.getElementById('pd-progress-0');
            const pdSlider = document.getElementById('pd-slider-0');
            const pdBackdrop = document.getElementById('pd-backdrop-0');
            const pdSearch = document.getElementById('pd-search-0');
            const pdDropDown = document.getElementById('pd-dropdown-0');
            const pdDropDownItems = document.getElementsByClassName('pd-dropdown-items');
            const pdPaginationItems = document.getElementsByClassName('pd-pagination-items');
            const pdTabsItems = document.getElementsByClassName('pd-tabs-items');
            const pdComboBoxItems = document.getElementsByClassName('pd-combobox-items');
            const pdComboBox1 = document.getElementById('pd-combobox-1');
            const pdComboBox2 = document.getElementById('pd-combobox-2');
            const pdNavbar = document.getElementById('pd-navbar-1');

            const pdTable0 = document.getElementById('pd-table-0');
            const pdTable1 = document.getElementById('pd-table-1');
            const pdTable2 = document.getElementById('pd-table-2');

            const pdMenu1 = document.getElementById('pd-menu-1');

            const pdDatePickers = document.getElementsByClassName('pd-datepickr-config');

            for (let pdTabsItem of pdTabsItems) {
                pdTabsItem.tabs = [
                    { id: 0, text: 'Tab one' },
                    { id: 1, text: 'Tab two', checked: true },
                    { id: 2, text: 'Tab three' },
                    { id: 3, text: 'Tab four' },
                ];
            }

            for (let pdDatepickr of pdDatePickers) {
                pdDatepickr.config = {
                    time_24hr: true,
                    enableTime: true,
                    allowInput: true,
                };
            }

            for (let pdPaginationItem of pdPaginationItems) {
                pdPaginationItem.items = [
                    { id: '1', label: '1', value: '1' },
                    { id: '2', label: '10', value: '10', selected: true },
                    { id: '3', label: '50', value: '50' },
                    { id: '4', label: '100', value: '100' },
                ];
            }

            for (let pdComboBoxItem of pdComboBoxItems) {
                pdComboBoxItem.items = [
                    { id: '1', label: 'Dropdown Link 01', value: 'a1' },
                    { id: '2', label: 'Dropdown Link 02', value: 'a2' },
                    { id: '3', label: 'Dropdown Link 03', value: 'a3' },
                    { id: '4', label: 'Dropdown Link 04', value: 'a4' },
                    { id: '5', label: 'Dropdown Link 05', value: 'a5' },
                    { id: '6', label: 'Preselected', value: 'a6', selected: true },
                ];
            }

            for (let pdDropdown of pdDropDownItems) {
                pdDropdown.items = [
                    { id: '1', label: 'Dropdown', value: 'a1' },
                    { id: '2', label: 'Pa.Iv. Semadeni. Fakultatives', value: 'a2' },
                    {
                        id: '3',
                        label: 'Referendum für die Unterstützung Olympischer Spiele durch den Bund',
                        value: 'a3',
                    },
                    { id: '4', label: 'Gesamtkonzeption, Präsentation und Diskussion', value: 'a4' },
                    { id: '5', label: 'Controlling, Präsentation, Diskussion und Beschluss', value: 'a5' },
                    { id: '6', label: 'Mitteilungen', value: 'a6' },
                    { id: '7', label: 'Aktuelles aus dem VBS, Information und Diskussion', value: 'a7' },
                    { id: '8', label: 'NKF. Evaluationsverfahren, Information und Diskussion', value: 'a8' },
                    { id: '9', label: 'Politisches Controlling, Präsentation, Diskussion und Beschluss', value: 'a9' },
                ];
            }

            // test do set a selected value over a programmatic way
            // setTimeout(() => pdDropDown.setSelectedIndex(2), 2000);

            // test do set a selected value over a programmatic way
            // setTimeout(() => pdDropDown.reset(), 4000);

            // update placement of menu
            // setTimeout(() => pdMenu1.setAttribute('placement', 'top-start'), 10000);

            function presentModal() {
                // create the modal with the `modal-page` component
                const modal = document.createElement('pd-modal');
                const modalCount = document.querySelectorAll('pd-modal').length + 1;

                modal.config = {
                    // component: 'user-content',
                    title: 'Modal Title',
                    minWidth: '500px',
                    minHeight: '250px',
                    maxWidth: '80%',
                    backdropVisible: false,
                    zIndex: 10000,
                };

                modal.data = {
                    first: 10,
                    second: 20,
                };

                const contentTemplate = document.querySelector('#pd-modal-template').content.cloneNode(true);
                const closeButton = contentTemplate.querySelector('.close-button');
                closeButton.addEventListener('click', () => modal.closeModal());

                const saveButton = contentTemplate.querySelector('.save-button');
                saveButton.addEventListener('click', () =>
                    modal.closeModal({
                        add: modal.data.first + modal.data.second,
                        modalCount: modalCount,
                    }),
                );

                const contentModalCount = contentTemplate.querySelector('.content-modal-count');
                contentModalCount.innerHTML = modalCount;

                modal.append(contentTemplate);

                // 1st way to get return data
                /*modal.whenClosed().then((returnData) => {
                    console.log('whenClosed method', returnData);
                });*/

                // 2st way to get return data
                modal.addEventListener('pd-closed', (event) => console.log('pd-closed event', event.detail));

                // present the modal
                document.body.appendChild(modal);
                const pdDropdownModal0 = document.getElementById('pd-dropdown-modal-0');
                pdDropdownModal0.items = [...pdDropDown.items];

                modal.closeModal = () => {
                    document.body.removeChild(modal);
                };

                // modal.openModal();
                modal.open = true;
            }
        </script>
    </body>
</html>
